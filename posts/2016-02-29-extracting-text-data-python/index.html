



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A data scientist's journey through data hell and back again">
      
      
        <link rel="canonical" href="https://www.shawnhermans.com/posts/2016-02-29-extracting-text-data-python/">
      
      
        <meta name="author" content="S">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Extracting Data from Text with Python</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#working-with-text-data" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.shawnhermans.com" title="Shawn Hermans" class="md-header-nav__button md-logo">
          
            <i class="md-icon">gesture</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Shawn Hermans
            </span>
            <span class="md-header-nav__topic">
              
                Extracting Data from Text with Python
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Home" class="md-tabs__link md-tabs__link--active">
        Home
      </a>
    
  </li>

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.shawnhermans.com" title="Shawn Hermans" class="md-nav__button md-logo">
      
        <i class="md-icon">gesture</i>
      
    </a>
    Shawn Hermans
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#working-with-text-data" title="Working with text data" class="md-nav__link">
    Working with text data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skill-naming-conventions" title="Skill naming conventions" class="md-nav__link">
    Skill naming conventions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-education-skill-name" title="General education skill name" class="md-nav__link">
    General education skill name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#program-skill-name" title="Program skill name" class="md-nav__link">
    Program skill name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-and-parsing-skill-names" title="Validating and parsing skill names" class="md-nav__link">
    Validating and parsing skill names
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regular-expressions" title="Regular expressions" class="md-nav__link">
    Regular expressions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-code" title="Python code" class="md-nav__link">
    Python code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-few-examples" title="A few examples" class="md-nav__link">
    A few examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-education-skill-without-subskill" title="General education skill without subskill" class="md-nav__link">
    General education skill without subskill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general-education-skill-with-subskill" title="General education skill with subskill" class="md-nav__link">
    General education skill with subskill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#program-skill-without-subskill" title="Program skill without subskill" class="md-nav__link">
    Program skill without subskill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#program-skill-with-subskill" title="Program skill with subskill" class="md-nav__link">
    Program skill with subskill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-invalid-input" title="Handling invalid input" class="md-nav__link">
    Handling invalid input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-testing" title="Unit testing" class="md-nav__link">
    Unit testing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-simple-test" title="A simple test" class="md-nav__link">
    A simple test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failing-the-test" title="Failing the test" class="md-nav__link">
    Failing the test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" title="Next steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Extracting Data from Text with Python</h1>
                
                <h2 id="working-with-text-data">Working with text data<a class="headerlink" href="#working-with-text-data" title="Permanent link">&para;</a></h2>
<p>If you have conducted any type of data analysis, you probably have worked with typical numeric and text data types.  Microsoft Excel supports various numeric and text types.  If you work with databases, you have probably used decimals, floating point numbers, integers, and character types.  </p>
<p>While the standard data types are good enough for most applications, sometimes you have text data with some sort of structure. Social security numbers, mailing addresses, phone numbers, email addresses,  and website URLs are some typical examples.  In these cases, treating the data as unstructured text might not be good enough.  If you are examining data with telephone numbers, you might want to compare records within the same area code.  If the area code is not stored in its own field, you will need to extract from the full phone number.  Maybe you want to look at records by zipcode, but all you have is a mailing address.</p>
<p>At Bellevue University, there are various examples of useful information being embedded in text data.  Course names follow a naming convention that contains the program code, course number, section number, and term information.   In the Skills to Performance model, information is embedded in the naming convention for the skills and rubrics.   Extracting information from this type of data is exceedingly useful to analytics efforts.</p>
<p>In addition to extracting information from text fields, it is often necessary to validate that a text field conforms to a particular naming convention.  If data does not conform to the naming convention, it might prevent analysis of that data.  At the very least, data that does not conform to the naming convention causes extra work for everyone involved and should be avoided when possible.</p>
<p>This document provides a short introduction on how to use the Python programming language to work with semi-structured text.  It uses examples from Bellevue University's Skills to Performance naming convention.  This tutorial demonstrates how to use Python to determine whether a skill name adheres to the naming convention.  Furthermore, it shows how to extract information embedded in the skill name.</p>
<h2 id="skill-naming-conventions">Skill naming conventions<a class="headerlink" href="#skill-naming-conventions" title="Permanent link">&para;</a></h2>
<p>The Skills to Performance model evaluates student performance based upon mastery of skills.   Courses within the same program may share common skill definitions.  Conversely, a skill definition might only apply to a single course.  This is often the case with general education courses that do not belong to a particular program.</p>
<p>This tutorial will look at two different skill identifier formats.  One format is used for general education courses and the other is used for skills attached to a program.  </p>
<h3 id="general-education-skill-name">General education skill name<a class="headerlink" href="#general-education-skill-name" title="Permanent link">&para;</a></h3>
<p>General education skills uses the following naming conventions:</p>
<ol>
<li><code class="codehilite"><span class="o">&lt;</span><span class="n">course_abbr</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">course_num</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">gen_ed_cat</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">skill</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">subskill</span><span class="o">&gt;</span></code></li>
<li><code class="codehilite"><span class="o">&lt;</span><span class="n">course_abbr</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">course_num</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">gen_ed_cat</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">skill</span><span class="o">&gt;</span></code></li>
</ol>
<p><code class="codehilite"><span class="n">HI_150_HC</span><span class="p">.</span><span class="mi">01</span><span class="p">.</span><span class="mi">02</span></code> is an example of skill definition for a general education course.  This example uses the first format. <code class="codehilite"><span class="n">HI_150_HC</span><span class="p">.</span><span class="mi">01</span></code> is a case without a subskill. It uses the second form.</p>
<ul>
<li><strong>course_abbr</strong> is the abbreviated name for the course.   This abbreviation should be no shorter than two characters and no longer than five characters.  The characters should always be upper case letters.</li>
<li><strong>course_num</strong> is the three digit number for the course.</li>
<li><strong>gen_ed_cat</strong> is the general education category for the course. It is two upper case letters.</li>
<li><strong>skill</strong> is the two digit number identifying the skill.  It must contain a leading zero if the number is less than 10.</li>
<li><strong>subskill</strong> is the two digit number identifying the subskill.  It must include a leading zero if the number is less than 10.  Subskill is optional if the parent skill does not define any subskills. If no subskills are defined, the second form should be used.</li>
</ul>
<h3 id="program-skill-name">Program skill name<a class="headerlink" href="#program-skill-name" title="Permanent link">&para;</a></h3>
<p>Skills attached to a program have the following naming conventions:</p>
<ol>
<li><code class="codehilite"><span class="o">&lt;</span><span class="n">program_abbr</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">course_num</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">perf_obj</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">skill</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">subskill</span><span class="o">&gt;</span></code></li>
<li><code class="codehilite"><span class="o">&lt;</span><span class="n">program_abbr</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">course_num</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">perf_obj</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">skill</span><span class="o">&gt;</span></code></li>
</ol>
<p><code class="codehilite"><span class="n">PPSY_300_01</span><span class="p">.</span><span class="mi">01</span><span class="p">.</span><span class="mi">02</span></code> is an example of skill definition for a course belonging to a program.  This example uses the first format. <code class="codehilite"><span class="n">PPSY_300_01</span><span class="p">.</span><span class="mi">01</span></code> is a case without a subskill. It uses the second form.</p>
<ul>
<li><strong>program_abbr</strong> is the abbreviated name for the program.   This abbreviation should be no shorter than two characters and no longer than five characters.  The characters should always be upper case letters.</li>
<li><strong>course_num</strong> is the three digit number for the course.</li>
<li><strong>perf_obj</strong> is the performance objective number for the skill. It is always two digits and must contain a leading zero if the number is less than 10.</li>
<li><strong>skill</strong> is the two digit number identifying the skill.  It must contain a leading zero if the number is less than 10.</li>
<li><strong>subskill</strong> is the two digit number identifying the subskill.  It must include a leading zero if the number is less than 10.  Subskill is optional if the parent skill does not define any subskills. If no subskills are defined, the second form should be used.</li>
</ul>
<h2 id="validating-and-parsing-skill-names">Validating and parsing skill names<a class="headerlink" href="#validating-and-parsing-skill-names" title="Permanent link">&para;</a></h2>
<p>The code presented in this tutorial has been simplified to help those who are not familiar with Python.  It avoids advanced Python features and is heavily commented.  It only uses features found the Python 3 standard library.</p>
<p>If you want to run the examples given in this document, you will need to install Python 3 on your system.  As of this writing, Python 3.5 is the latest stable version of Python 3.  If you are new to Python, I recommend using the <a href="https://www.continuum.io/downloads">Anaconda distribution</a> of Python produced by Continuum Analytics.  It provides graphical installers for both Windows and Mac OS X.  It also includes <a href="http://jupyter.org/">Jupyter notebook</a>; a locally run web application for creating documents powered by Python. In fact, I created this document with Jupyter notebook.</p>
<h3 id="regular-expressions">Regular expressions<a class="headerlink" href="#regular-expressions" title="Permanent link">&para;</a></h3>
<p>The code in this tutorial makes heavy use of regular expressions.  Regular expressions are usefully for matching patterns in text.  Consider a social security number as an example.  A social security number is three digits followed by a hyphen followed by two digits followed by another hyphen followed by four digits.  Explaining patterns like this in English is rather long and clumsy.</p>
<p>Defining this pattern as a regular expression is much more compact. The regular expression (regex for short) for a social security number is:</p>
<blockquote>
<p><code class="codehilite"><span class="o">^</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">3</span><span class="err">}</span><span class="p">)</span><span class="o">-</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">2</span><span class="err">}</span><span class="p">)</span><span class="o">-</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">$</span></code>   </p>
</blockquote>
<p>Don't feel dejected if this looks like an incomprehensible jumble of numbers and symbols.  As conveyed in this <a href="http://imgs.xkcd.com/comics/perl_problems.png">XCKD comic</a>, even experienced developers struggle with regular expressions. While regular expressions can be frustrating at times, they are a powerful tool when working with partially structured data.</p>
<p><img alt="Perl problems" src="http://imgs.xkcd.com/comics/perl_problems.png" /></p>
<h3 id="python-code">Python code<a class="headerlink" href="#python-code" title="Permanent link">&para;</a></h3>
<p>The following section describes the skill parsing code.  If you want to try it out for yourself, this <a href="https://gist.github.com/shawnhermans/72cf2dc1e37fc2615f05">skill_parser.py gist</a> provides the Python used to define the skill parsing code.  If you want the code, unit tests, and examples, it is all bundled in <a href="https://gist.github.com/shawnhermans/e9452fec593a126322de">this Jupyter notebook</a>.  Select the option to <em>Download ZIP</em>, unzip the contents, and open the contents using Jupyter notebook.  The end of this tutorial provides brief instructions on how to download and install Jupyter notebook.<br />
<script src="https://gist.github.com/shawnhermans/72cf2dc1e37fc2615f05.js">
</script></p>
<h3 id="a-few-examples">A few examples<a class="headerlink" href="#a-few-examples" title="Permanent link">&para;</a></h3>
<p>The following shows how to use the code to validate and parse skill names.</p>
<h4 id="general-education-skill-without-subskill">General education skill without subskill<a class="headerlink" href="#general-education-skill-without-subskill" title="Permanent link">&para;</a></h4>
<p>{% highlight python %}
gen_ed_skill = 'HI_150_HC.01'
parse_skill(gen_ed_skill)
{% endhighlight %}</p>
<p>Which returns the result:</p>
<div class="codehilite"><pre><span></span><span class="err">{</span><span class="s1">&#39;course&#39;</span><span class="p">:</span> <span class="s1">&#39;HI&#39;</span><span class="p">,</span>
 <span class="s1">&#39;course_number&#39;</span><span class="p">:</span> <span class="s1">&#39;150&#39;</span><span class="p">,</span>
 <span class="s1">&#39;gen_ed_category&#39;</span><span class="p">:</span> <span class="s1">&#39;HC&#39;</span><span class="p">,</span>
 <span class="s1">&#39;skill&#39;</span><span class="p">:</span> <span class="s1">&#39;01&#39;</span><span class="p">,</span>
 <span class="s1">&#39;subskill&#39;</span><span class="p">:</span> <span class="k">None</span><span class="err">}</span>
</pre></div>


<h4 id="general-education-skill-with-subskill">General education skill with subskill<a class="headerlink" href="#general-education-skill-with-subskill" title="Permanent link">&para;</a></h4>
<p>{% highlight python %}
gen_ed_with_subskill = 'HI_150_HC.01.02'
parse_skill(gen_ed_with_subskill)
{% endhighlight %}</p>
<p>Which returns the result:</p>
<div class="codehilite"><pre><span></span><span class="err">{</span><span class="s1">&#39;course&#39;</span><span class="p">:</span> <span class="s1">&#39;HI&#39;</span><span class="p">,</span>
 <span class="s1">&#39;course_number&#39;</span><span class="p">:</span> <span class="s1">&#39;150&#39;</span><span class="p">,</span>
 <span class="s1">&#39;gen_ed_category&#39;</span><span class="p">:</span> <span class="s1">&#39;HC&#39;</span><span class="p">,</span>
 <span class="s1">&#39;skill&#39;</span><span class="p">:</span> <span class="s1">&#39;01&#39;</span><span class="p">,</span>
 <span class="s1">&#39;subskill&#39;</span><span class="p">:</span> <span class="s1">&#39;02&#39;</span><span class="err">}</span>
</pre></div>


<h4 id="program-skill-without-subskill">Program skill without subskill<a class="headerlink" href="#program-skill-without-subskill" title="Permanent link">&para;</a></h4>
<p>{% highlight python %}
program_skill = 'PPSY_300_01.01'
parse_skill(program_skill)
{% endhighlight %}</p>
<p>Which returns the result:</p>
<div class="codehilite"><pre><span></span><span class="err">{</span><span class="s1">&#39;course_number&#39;</span><span class="p">:</span> <span class="s1">&#39;300&#39;</span><span class="p">,</span>
 <span class="s1">&#39;performance_objective&#39;</span><span class="p">:</span> <span class="s1">&#39;01&#39;</span><span class="p">,</span>
 <span class="s1">&#39;program&#39;</span><span class="p">:</span> <span class="s1">&#39;PPSY&#39;</span><span class="p">,</span>
 <span class="s1">&#39;skill&#39;</span><span class="p">:</span> <span class="s1">&#39;01&#39;</span><span class="p">,</span>
 <span class="s1">&#39;subskill&#39;</span><span class="p">:</span> <span class="k">None</span><span class="err">}</span>
</pre></div>


<h4 id="program-skill-with-subskill">Program skill with subskill<a class="headerlink" href="#program-skill-with-subskill" title="Permanent link">&para;</a></h4>
<p>{% highlight python %}
program_with_subskill = 'PPSY_300_01.01.02'
parse_skill(program_with_subskill)
{% endhighlight %}</p>
<p>Which returns the result:</p>
<div class="codehilite"><pre><span></span><span class="err">{</span><span class="s1">&#39;course_number&#39;</span><span class="p">:</span> <span class="s1">&#39;300&#39;</span><span class="p">,</span>
 <span class="s1">&#39;performance_objective&#39;</span><span class="p">:</span> <span class="s1">&#39;01&#39;</span><span class="p">,</span>
 <span class="s1">&#39;program&#39;</span><span class="p">:</span> <span class="s1">&#39;PPSY&#39;</span><span class="p">,</span>
 <span class="s1">&#39;skill&#39;</span><span class="p">:</span> <span class="s1">&#39;01&#39;</span><span class="p">,</span>
 <span class="s1">&#39;subskill&#39;</span><span class="p">:</span> <span class="s1">&#39;02&#39;</span><span class="err">}</span>
</pre></div>


<h4 id="handling-invalid-input">Handling invalid input<a class="headerlink" href="#handling-invalid-input" title="Permanent link">&para;</a></h4>
<p>When we try to parse an skill that does not meet the format, it will raise a ValidationError. This lets the developer know something went wrong.  </p>
<p>{% highlight python %}
try:
    # Python tries to execute the code in this block.<br />
    # If the code runs without error, print out parsed info.<br />
    # If the code raises a ValidationError, go to exception block</p>
<div class="codehilite"><pre><span></span><span class="n">invalid_skill</span> <span class="o">=</span> <span class="s1">&#39;PPSY_300_01.1&#39;</span>
<span class="n">print</span><span class="p">(</span><span class="n">parse_skill</span><span class="p">(</span><span class="n">invalid_skill</span><span class="p">))</span>
</pre></div>


<p>except ValidationError as err:
    # Block catches ValidationError. Prints out error message
    print(err)
{% endhighlight %}</p>
<p>Which returns this result:</p>
<div class="codehilite"><pre><span></span><span class="s1">&#39;PPSY_300_01.1&#39;</span> <span class="n">does</span> <span class="k">not</span> <span class="k">match</span> <span class="n">known</span> <span class="n">format</span>
</pre></div>


<h3 id="unit-testing">Unit testing<a class="headerlink" href="#unit-testing" title="Permanent link">&para;</a></h3>
<p>This section gives an overview of how to use unit testing in Python. Unit testing is a way of testing individual units of code.   When a developer submits code changes, a testing service automatically runs these tests.  The developer is not allowed to add the modifications to the project unless all the tests pass. The biggest advantage of unit testing (and automated testing in general) is it catches errors early in the development process.   </p>
<h4 id="a-simple-test">A simple test<a class="headerlink" href="#a-simple-test" title="Permanent link">&para;</a></h4>
<p>The following is a single unit test.   It tests the parsing of a general education skill that does not contain any subskill.  When this test runs, it evaluates the assertion statements.  These statements are simple true/false statements.  If all the statements evaluate to true, the tests pass.  If an assertion fails (i.e. evaluates as false), the test fails.  The following unit test should run without any errors.</p>
<p>{% highlight python %}
def test_parse_gen_ed_skill():
    result = parse_skill('HI_150_HC.01')</p>
<div class="codehilite"><pre><span></span><span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;course&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;HI&#39;</span>
<span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;course_number&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;150&#39;</span>
<span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;gen_ed_category&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;HC&#39;</span>
<span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;skill&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;01&#39;</span>
<span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;subskill&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="k">None</span>
</pre></div>


<p>try:
    test_parse_gen_ed_skill()
    print('Test passed!')
except AssertionError as err:
    print('Test failed :(')
    print(err)
{% endhighlight %}</p>
<p>Running this code should print:</p>
<div class="codehilite"><pre><span></span><span class="n">Test</span> <span class="n">passed</span><span class="o">!</span>
</pre></div>


<h4 id="failing-the-test">Failing the test<a class="headerlink" href="#failing-the-test" title="Permanent link">&para;</a></h4>
<p>The next example shows what happens when a test fails. It is similar to the test above but has a failing assertion. Specifically, the skill string "PPSY_300_01.01" should return the skill number of "01".  In this particular example, we are telling it to match "1" and not "01".  Since these are not the same values, the test should fail.</p>
<p>{% highlight python %}
def test_parse_program_skill():
    result = parse_skill('PPSY_300_01.01')</p>
<div class="codehilite"><pre><span></span><span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;program&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;PPSY&#39;</span>
<span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;course_number&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;300&#39;</span>
<span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;performance_objective&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;01&#39;</span>

<span class="o">#</span> <span class="n">Define</span> <span class="n">a</span> <span class="n">message</span>
<span class="n">skill_error_msg</span> <span class="o">=</span> <span class="s1">&#39;Received skill value &#39;</span>
<span class="n">skill_error_msg</span> <span class="o">+=</span> <span class="s1">&#39;&quot;{0}&quot;. &#39;</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="k">result</span><span class="p">[</span><span class="s1">&#39;skill&#39;</span><span class="p">])</span>
<span class="n">skill_error_msg</span> <span class="o">+=</span> <span class="s1">&#39;Expected &quot;1&quot; as value.&#39;</span>
<span class="n">assert</span> <span class="k">result</span><span class="p">[</span><span class="s1">&#39;skill&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">skill_error_msg</span>
</pre></div>


<p>try:
    test_parse_program_skill()
    print('Test passed!')
except AssertionError as err:
    print('Test failed :(')
    print(err)
{% endhighlight %}</p>
<p>Running this code should result in a test failure.</p>
<div class="codehilite"><pre><span></span><span class="n">Test</span> <span class="n">failed</span> <span class="p">:(</span>
<span class="n">Received</span> <span class="n">skill</span> <span class="n">value</span> <span class="ss">&quot;01&quot;</span><span class="p">.</span> <span class="n">Expected</span> <span class="ss">&quot;1&quot;</span> <span class="k">as</span> <span class="n">value</span><span class="p">.</span>
</pre></div>


<h2 id="next-steps">Next steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>If you are interested in learning Python, there are plenty of resources available.  <a href="https://automatetheboringstuff.com/">Automate the boring stuff</a> is a gentle introduction to Python that uses practical, real-world examples.  <a href="https://developers.google.com/edu/python/">Google's Python class</a>  is a great resource if you already have some programming background.   <a href="http://www.amazon.com/Data-Science-Scratch-Principles-Python/dp/149190142X/">Data Science from Scratch</a> and <a href="http://www.amazon.com/Python-Data-Analysis-Wrangling-IPython/dp/1449319793/">Python for Data Analysis</a> are good books for those with a background in analysis.   </p>
<p>If you just want to download Python and try it out, I recommend starting with the Anaconda distribution from Continuum Analytics. They provide <a href="https://www.continuum.io/downloads">graphical installers for Windows and Mac OS X</a>.  Choose the Python 3.5 installer if you are not sure which version to pick. They also <a href="http://docs.continuum.io/anaconda/install">provide installation instructions</a>.</p>
<p>Once you have it installed, open up Jupyter notebook and create a Python 3 notebook.  You can use this notebook to experiment with Python code.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Shawn Hermans
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>